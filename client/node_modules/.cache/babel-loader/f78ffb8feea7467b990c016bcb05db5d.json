{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/WebDesign/Greener/final-project/greener-mern/client/src/components/Products/Products.js\";\nimport React from 'react';\nimport axios from \"axios\";\nimport './Products.css';\nimport './Cart.css';\nimport { Alert, Card, Button } from 'react-bootstrap';\nimport img1 from '../../assets/images/dustbin.jpg';\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { submitProducts } from \"../../actions/productsActions\";\nimport { logoutUser } from \"../../actions/authActions\";\n\nclass Products extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.buyNow = () => {\n      if (this.props.auth.isAuthenticated) this.props.history.push(\"/buyNow\");else this.props.history.push(\"/login\");\n    };\n\n    this.cart = () => {\n      if (this.props.auth.isAuthenticated) this.props.history.push(\"/cart\");else this.props.history.push(\"/login\");\n    };\n\n    this.addToCart = async product => {\n      console.log(product);\n\n      if (this.props.auth.isAuthenticated) {\n        const reqBody = {\n          user: this.props.auth.user.id,\n          productID: product._id,\n          productName: product.title,\n          productPrice: product.price,\n          quantity: 1\n        };\n        await axios.post('/api/cart', reqBody);\n        this.setState({\n          showCartAlert: true\n        });\n      } else this.props.history.push(\"/login\");\n    };\n\n    this.closeAlertCart = () => {\n      this.setState({\n        showCartAlert: false\n      });\n    };\n\n    this.state = {\n      products: []\n    };\n    this.getProductsData();\n  }\n\n  getProductsData() {\n    axios.get(\"/api/productsData/submitProducts\").then(response => {\n      this.setState({\n        products: response.data\n      });\n    });\n  }\n\n  render() {\n    //  console.log(this.state.products)\n    return React.createElement(\"div\", {\n      class: \"videoBack\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, this.state.showCartAlert ? React.createElement(Alert, {\n      variant: \"success\",\n      onClose: () => this.closeAlertCart(),\n      dismissible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Added to Cart!  \", React.createElement(Link, {\n      type: \"Button\",\n      to: \"/cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"View Cart\")) : '', React.createElement(\"video\", {\n      class: \"video-fluid z-depth-1 video-background\",\n      autoPlay: \"autoplay\",\n      loop: \"loop\",\n      controls: \"controls\",\n      muted: \"muted\",\n      id: \"vid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"source\", {\n      src: \"Background_09.mov\",\n      type: \"video/mp4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"container mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.state.products.map((p, i) => React.createElement(\"div\", {\n      className: \"col-sm-4 product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: {\n        pathname: \"/product\",\n        state: {\n          p: p\n        }\n      },\n      className: \"link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Card.Img, {\n      className: \"imgTop\",\n      variant: \"top\",\n      src: process.env.PUBLIC_URL + this.state.products[i].image1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(Card.Body, {\n      className: \"cardBody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, this.state.products[i].title), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, this.state.products[i].desc1, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Seller:\"), this.state.products[i].seller, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"$\" + this.state.products[i].price), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"p\",\n      onClick: this.addToCart.bind(this, this.state.products[i]),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Add to Cart\"), React.createElement(Button, {\n      variant: \"bt\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#exampleModal1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Quick View\"), React.createElement(\"div\", {\n      class: \"modal fade\",\n      id: \"exampleModal1\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-dialog\",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"modal-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      class: \"modal-title\",\n      id: \"exampleModalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Modal title\"), React.createElement(\"button\", {\n      type: \"button\",\n      class: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"div\", {\n      class: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.state.products[i].title, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: img1,\n      alt: \"Smiley face\",\n      height: \"320\",\n      width: \"320\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), this.state.products[i].desc1)))), React.createElement(Link, {\n      to: {\n        pathname: \"/Orders\",\n        state: {\n          p: p\n        }\n      },\n      className: \"link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"buy\",\n      variant: \"secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Buy Now\")))))))), React.createElement(\"div\", {\n      class: \"modal-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }));\n  }\n\n}\n\nProducts.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\nProducts.propTypes = {\n  submitProducts: PropTypes.func.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  submitProducts,\n  logoutUser\n})(Products); //export default Products;","map":{"version":3,"sources":["/Users/apple/Documents/WebDesign/Greener/final-project/greener-mern/client/src/components/Products/Products.js"],"names":["React","axios","Alert","Card","Button","img1","Link","PropTypes","connect","submitProducts","logoutUser","Products","Component","constructor","props","buyNow","auth","isAuthenticated","history","push","cart","addToCart","product","console","log","reqBody","user","id","productID","_id","productName","title","productPrice","price","quantity","post","setState","showCartAlert","closeAlertCart","state","products","getProductsData","get","then","response","data","render","map","p","i","pathname","process","env","PUBLIC_URL","image1","desc1","seller","bind","propTypes","object","isRequired","errors","func","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from \"axios\";\nimport './Products.css';\nimport './Cart.css';\nimport { Alert, Card, Button } from 'react-bootstrap';\nimport img1 from '../../assets/images/dustbin.jpg'\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { submitProducts } from \"../../actions/productsActions\";\nimport { logoutUser } from \"../../actions/authActions\";\n\n\nclass Products extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      products: []\n    }\n\n    this.getProductsData();\n  }\n\n  getProductsData() {\n    axios\n      .get(\"/api/productsData/submitProducts\").then((response) => {\n        this.setState({ products: response.data })\n    });\n  }\n\n  buyNow = () => {\n    if (this.props.auth.isAuthenticated)\n      this.props.history.push(\"/buyNow\");\n    else\n      this.props.history.push(\"/login\");\n  }\n\n  cart = () => {\n    if (this.props.auth.isAuthenticated)\n      this.props.history.push(\"/cart\");\n    else\n      this.props.history.push(\"/login\");\n  }\n\n  addToCart = async (product) => {\n    console.log(product);\n    if (this.props.auth.isAuthenticated) {\n      const reqBody = {\n        user: this.props.auth.user.id,\n        productID: product._id,\n        productName: product.title,\n        productPrice: product.price,\n        quantity: 1\n      }\n      await axios.post('/api/cart', reqBody);\n      this.setState({ showCartAlert: true });\n    }\n    else\n      this.props.history.push(\"/login\");\n  }\n\n  closeAlertCart = () => {\n    this.setState({ showCartAlert: false });\n  }\n\n  render() {\n    //  console.log(this.state.products)\n    return (\n      <div class=\"videoBack\">\n        {(this.state.showCartAlert ?\n          (<Alert variant=\"success\" onClose={() => this.closeAlertCart()} dismissible>Added to Cart!  <Link type=\"Button\" to=\"/cart\">View Cart</Link></Alert>)\n          : '')}\n        <video class=\"video-fluid z-depth-1 video-background\" autoPlay=\"autoplay\" loop=\"loop\" controls=\"controls\" muted=\"muted\" id=\"vid\">\n          <source src=\"Background_09.mov\" type=\"video/mp4\" />\n        </video>\n\n\n        <div class=\"container mt-5\">\n          <div className=\"row\">\n            {this.state.products.map((p, i) => (\n              <div className=\"col-sm-4 product\">\n\n                <Card>\n                  <Link to={{ pathname: \"/product\", state: { p: p } }} className=\"link\">\n                    <Card.Img className=\"imgTop\" variant=\"top\" src={process.env.PUBLIC_URL + this.state.products[i].image1} />\n                  </Link>\n                  <Card.Body className=\"cardBody\">\n\n                    <Card.Title>{this.state.products[i].title}</Card.Title>\n                    <Card.Text>\n                      {this.state.products[i].desc1}<br />\n                      <i>Seller:</i>{this.state.products[i].seller}\n                      <b>{\"$\" + this.state.products[i].price}</b><br />\n                    </Card.Text>\n                    <Button variant=\"p\" onClick={this.addToCart.bind(this, this.state.products[i])}>Add to Cart</Button>\n                    <Button variant=\"bt\" data-toggle=\"modal\" data-target=\"#exampleModal1\">Quick View</Button>\n                    <div class=\"modal fade\" id=\"exampleModal1\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                      <div class=\"modal-dialog\" role=\"document\">\n                        <div class=\"modal-content\">\n                          <div class=\"modal-header\">\n                            <h5 class=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\n                            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                              <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                          </div>\n                          <div class=\"modal-body\">\n                            {this.state.products[i].title}<br />\n                            <img src={img1} alt=\"Smiley face\" height=\"320\" width=\"320\"></img><br />\n                            {this.state.products[i].desc1}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <Link to={{ pathname: \"/Orders\", state: { p: p } }} className=\"link\">\n                    <Button className=\"buy\" variant=\"secondary\">Buy Now</Button>\n                    </Link>\n                  </Card.Body>\n                </Card>\n              </div>\n            ))}\n          </div>\n        </div>\n        <div class=\"modal-body\">\n        </div>\n      </div>\n    );\n  }\n}\nProducts.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nProducts.propTypes = {\n  submitProducts: PropTypes.func.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\nexport default connect(\n  mapStateToProps,\n  { submitProducts, logoutUser }\n)(Products);\n\n//export default Products;\n"]},"metadata":{},"sourceType":"module"}