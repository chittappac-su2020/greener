{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/Personal_Projects/greener-mern/client/src/components/Auth/Register.js\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport './Auth.css';\nimport { Alert, Card, Button } from 'react-bootstrap';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { registerUser, sendMail } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\n\nclass Register extends Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const newUser = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n        password2: this.state.password2,\n        phone: this.state.phone,\n        address: this.state.address,\n        zip: this.state.zip\n      };\n      this.props.registerUser(newUser, this.props.history);\n    };\n\n    this.closeErrAlertCart = () => {\n      this.setState({\n        isErr: false\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password2: \"\",\n      phone: \"\",\n      address: \"\",\n      zip: \"\",\n      isErr: false,\n      onSuccess: false,\n      errors: {},\n      errorMessage: \"\"\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Register page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      const mData = {\n        name: this.state.name,\n        email: this.state.email\n      };\n      this.props.sendMail(mData);\n      this.setState({\n        onSuccess: true\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(nextProps);\n\n    if (nextProps.errors) {\n      this.setState({\n        errorMessage: nextProps.errors.errorMessage,\n        errors: nextProps.errors\n      });\n\n      if (nextProps.errors.errorMessage) {\n        this.setState({\n          isErr: true\n        });\n      }\n    }\n  }\n\n  render() {\n    const errors = this.state.errors;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \" \", this.state.isErr ? React.createElement(Alert, {\n      variant: \"danger\",\n      onClose: () => this.closeErrAlertCart(),\n      dismissible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, this.state.errorMessage) : '', this.state.onSuccess ? React.createElement(Alert, {\n      variant: \"success\",\n      onClose: () => this.closeAlertCart(),\n      dismissible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" Success! \", React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Login\"), \" to continue\") : '', React.createElement(\"div\", {\n      className: \"container allCenter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s8 offset-s2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Register\"), \" below\"), React.createElement(\"p\", {\n      className: \"subheading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Already have an account? \", React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Log in\"))), React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: classnames(\"\", {\n        \"error\": errors.name\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Name *\", React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.name,\n      error: errors.name,\n      id: \"name\",\n      type: \"text\",\n      className: classnames(\"input-line\", {\n        \"input-line-error\": errors.name\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), \" \"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"error-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, errors.name)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: classnames(\"\", {\n        \"error\": errors.email\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Email *\", React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.email,\n      error: errors.email,\n      id: \"email\",\n      type: \"email\",\n      className: classnames(\"input-line\", {\n        \"input-line-error\": errors.email\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"error-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, errors.email)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: classnames(\"\", {\n        \"error\": errors.password\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Password *\", React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.password,\n      error: errors.password,\n      id: \"password\",\n      type: \"password\",\n      className: classnames(\"input-line\", {\n        \"input-line-error\": errors.password\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"error-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, errors.password)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: classnames(\"\", {\n        \"error\": errors.password\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Confirm Password *\", React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.password2,\n      error: errors.password2,\n      id: \"password2\",\n      type: \"password\",\n      className: classnames(\"input-line\", {\n        \"input-line-error\": errors.password2\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"error-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, errors.password2)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: classnames(\"\", {\n        \"error\": errors.phone\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Phone *\", React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.phone,\n      error: errors.phone,\n      id: \"phone\",\n      type: \"phone\",\n      className: classnames(\"input-line\", {\n        \"input-line-error\": errors.phone\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"error-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, errors.phone)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: classnames(\"\", {\n        \"error\": errors.address\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Address *\", React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.address,\n      error: errors.address,\n      id: \"address\",\n      type: \"text\",\n      className: classnames(\"input-line\", {\n        \"input-line-error\": errors.address\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"error-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, errors.address)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: classnames(\"\", {\n        \"error\": errors.zip\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Zip Code *\", React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.zip,\n      error: errors.zip,\n      id: \"zip\",\n      type: \"text\",\n      className: classnames(\"input-line\", {\n        \"input-line-error\": errors.zip\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"error-msg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, errors.zip)), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        paddingTop: \"1rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        marginLeft: \"16rem\"\n      },\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Sign up\")))))));\n  }\n\n}\n\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  sendMail: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  registerUser,\n  sendMail\n})(withRouter(Register));","map":{"version":3,"sources":["/Users/apple/Desktop/Personal_Projects/greener-mern/client/src/components/Auth/Register.js"],"names":["React","Component","Link","withRouter","Alert","Card","Button","PropTypes","connect","registerUser","sendMail","classnames","Register","constructor","onChange","e","setState","target","id","value","onSubmit","preventDefault","newUser","name","state","email","password","password2","phone","address","zip","props","history","closeErrAlertCart","isErr","onSuccess","errors","errorMessage","componentDidMount","auth","isAuthenticated","mData","componentWillReceiveProps","nextProps","console","log","render","closeAlertCart","paddingTop","marginLeft","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport './Auth.css';\nimport { Alert, Card, Button } from 'react-bootstrap';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { registerUser, sendMail } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\n\nclass Register extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password2: \"\",\n      phone: \"\",\n      address: \"\",\n      zip: \"\",\n      isErr:false,\n      onSuccess:false,\n      errors: {},\n      errorMessage:\"\"\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Register page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      const mData = {\n        name: this.state.name,\n        email: this.state.email\n      };\n      this.props.sendMail(mData);\n      this.setState({onSuccess:true});  \n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(nextProps)\n    if (nextProps.errors) {\n      this.setState({ errorMessage:  nextProps.errors.errorMessage,\n        errors:  nextProps.errors\n      });\n\n      if(nextProps.errors.errorMessage) {\n        this.setState({ isErr:true});\n      }\n    }\n\n\n\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    const newUser = {\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      password2: this.state.password2,\n      phone: this.state.phone,\n      address: this.state.address,\n      zip: this.state.zip,\n    };\n   \n   \n    this.props.registerUser(newUser, this.props.history);\n  };\n  closeErrAlertCart = () => {\n    this.setState({ isErr: false });\n  }\n\n  render() {\n    const { errors } = this.state;\n\n    return (\n      <div> {(this.state.isErr ?\n        (<Alert variant=\"danger\" onClose={() => this.closeErrAlertCart()} dismissible>{this.state.errorMessage}</Alert>)\n        : '')}\n        {(this.state.onSuccess ?\n          (<Alert variant=\"success\" onClose={() => this.closeAlertCart()} dismissible> Success! <Link to=\"/login\">Login</Link> to continue</Alert>)\n          : '')}\n      <div className=\"container allCenter\">\n     \n        <div className=\"row\">\n       \n          <div className=\"col s8 offset-s2\">\n          \n            <div className=\"col s12\" style={{  }}>\n              <h4>\n                <b>Register</b> below\n              </h4>\n              <p className=\"subheading\">\n                Already have an account? <Link to=\"/login\">Log in</Link>\n              </p>\n            </div>\n            <form noValidate onSubmit={this.onSubmit}>\n              <div className=\"row\">\n                <label className={classnames(\"\", {\n                  \"error\": errors.name\n                })}>Name *\n                <input\n                    onChange={this.onChange}\n                    value={this.state.name}\n                    error={errors.name}\n                    id=\"name\"\n                    type=\"text\"\n                    className={classnames(\"input-line\", {\n                      \"input-line-error\": errors.name\n                    })}\n                  /></label> </div>\n              <div className=\"row\">\n                <span className=\"error-msg\">{errors.name}</span>\n              </div>\n              <br /><div className=\"row\">\n                <label className={classnames(\"\", {\n                  \"error\": errors.email\n                })}>Email *\n                <input\n                    onChange={this.onChange}\n                    value={this.state.email}\n                    error={errors.email}\n                    id=\"email\"\n                    type=\"email\"\n                    className={classnames(\"input-line\", {\n                      \"input-line-error\": errors.email\n                    })}\n                  /></label></div><div className=\"row\">\n                <span className=\"error-msg\">{errors.email}</span>\n              </div>\n              <br /><div className=\"row\">\n                <label className={classnames(\"\", {\n                  \"error\": errors.password\n                })}>Password *\n                <input\n                    onChange={this.onChange}\n                    value={this.state.password}\n                    error={errors.password}\n                    id=\"password\"\n                    type=\"password\"\n                    className={classnames(\"input-line\", {\n                      \"input-line-error\": errors.password\n                    })}\n                  /></label></div><div className=\"row\">\n                <span className=\"error-msg\">{errors.password}</span>\n              </div>\n              <br /><div className=\"row\">\n                <label className={classnames(\"\", {\n                  \"error\": errors.password\n                })}>Confirm Password *\n                <input\n                    onChange={this.onChange}\n                    value={this.state.password2}\n                    error={errors.password2}\n                    id=\"password2\"\n                    type=\"password\"\n                    className={classnames(\"input-line\", {\n                      \"input-line-error\": errors.password2\n                    })}\n                  /></label></div><div className=\"row\">\n                <span className=\"error-msg\">{errors.password2}</span>\n              </div>\n              <br /><div className=\"row\">\n                <label className={classnames(\"\", {\n                  \"error\": errors.phone\n                })}>Phone *\n                <input\n                    onChange={this.onChange}\n                    value={this.state.phone}\n                    error={errors.phone}\n                    id=\"phone\"\n                    type=\"phone\"\n                    className={classnames(\"input-line\", {\n                      \"input-line-error\": errors.phone\n                    })}\n                  /></label>\n              </div><div className=\"row\">\n                <span className=\"error-msg\">{errors.phone}</span>\n              </div>\n              <br /><div className=\"row\">\n                <label className={classnames(\"\", {\n                  \"error\": errors.address\n                })}>Address *\n                <input\n                    onChange={this.onChange}\n                    value={this.state.address}\n                    error={errors.address}\n                    id=\"address\"\n                    type=\"text\"\n                    className={classnames(\"input-line\", {\n                      \"input-line-error\": errors.address\n                    })}\n                  /></label></div><div className=\"row\">\n                <span className=\"error-msg\">{errors.address}</span>\n              </div>\n              <br /><div className=\"row\">\n                <label className={classnames(\"\", {\n                  \"error\": errors.zip\n                })}>Zip Code *\n                <input\n                    onChange={this.onChange}\n                    value={this.state.zip}\n                    error={errors.zip}\n                    id=\"zip\"\n                    type=\"text\"\n                    className={classnames(\"input-line\", {\n                      \"input-line-error\": errors.zip\n                    })}\n                  /></label></div><div className=\"row\">\n                <span className=\"error-msg\">{errors.zip}</span>\n              </div>\n              <div className=\"col s12\" style={{  paddingTop:\"1rem\"}}>\n                <button\n                  style={{\n                    marginLeft: \"16rem\"\n                  }}\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                >\n                  Sign up\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div></div>\n    );\n  }\n}\n\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  sendMail: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { registerUser, sendMail }\n)(withRouter(Register));\n"]},"metadata":{},"sourceType":"module"}