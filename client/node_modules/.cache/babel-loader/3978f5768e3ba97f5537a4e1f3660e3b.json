{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/WebDesign/Greener/final-project/greener-mern/client/src/components/Services/Garbage.js\";\nimport React from 'react';\nimport './Services.css';\nimport PropTypes from \"prop-types\";\nimport { logoutUser } from \"../../actions/authActions\";\nimport { connect } from \"react-redux\";\nimport { Alert } from \"react-bootstrap\";\nimport { submitGarbageData, sendMail } from \"../../actions/garbageActions\";\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react';\nconst mapStyles = {\n  width: '80%',\n  height: '80%',\n  marginLeft: '-15px'\n};\n\nclass Garbage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.buttonSet = type => {\n      if (type === \"pickup\") {\n        return React.createElement(\"div\", {\n          class: \"rGroup\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-lg btn-danger button-spacing\",\n          value: \"11AM\",\n          onClick: this.handleTimeChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, \"11AM\"), React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-lg btn-danger button-spacing\",\n          value: \"3PM\",\n          onClick: this.handleTimeChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"3PM\"));\n      } else if (type === \"dropoff\") {\n        return React.createElement(\"div\", {\n          class: \"rGroup\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-lg btn-danger button-spacing\",\n          value: \"10AM\",\n          onClick: this.handleTimeChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, \"10AM\"), React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-lg btn-danger button-spacing\",\n          value: \"3PM\",\n          onClick: this.handleTimeChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \"3PM\"), React.createElement(\"button\", {\n          type: \"button\",\n          class: \"btn btn-lg btn-danger button-spacing\",\n          value: \"7PM\",\n          onClick: this.handleTimeChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, \"7PM\"));\n      }\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n\n      if (this.state.wasteType !== \"\" && this.state.weight !== \"\" && this.state.weight > 0 && this.state.time !== \"\" && this.state.pickType !== \"\") {\n        const gData = {\n          userid: this.props.auth.user.id,\n          wasteType: this.state.wasteType,\n          weight: this.state.weight\n        };\n        const mData = {\n          usermail: this.props.auth.user.email,\n          wasteType: this.state.wasteType,\n          weight: this.state.weight,\n          pickType: this.state.pickType,\n          time: this.state.time\n        };\n        this.props.sendMail(mData);\n        this.props.submitGarbageData(gData);\n        this.setState({\n          wasteType: '',\n          weight: '',\n          alertS: true\n        });\n      } else {\n        console.log(this.props.auth);\n        this.setState({\n          alertF: true\n        });\n      }\n    };\n\n    this.handleChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      let formErrors = this.state.formErrors;\n\n      switch (name) {\n        case \"wasteType\":\n          formErrors.wType = value.length > 0 ? \"\" : \"Waste type cannot be empty\";\n          console.log(value);\n\n          if (value.length === 0) {\n            document.getElementById(\"inputWaste\").style.borderColor = \"red\";\n          } else {\n            document.getElementById(\"inputWaste\").style.borderColor = \"\";\n          }\n\n          this.setState({\n            wasteType: event.target.value\n          });\n          break;\n\n        case \"weight\":\n          formErrors.weigh = value.length > 0 && value > 0 ? \"\" : \"Weight cannot be negative or empty\";\n\n          if (value.length === 0 || value <= 0) {\n            document.getElementById(\"inputWeight\").style.borderColor = \"red\";\n          } else {\n            document.getElementById(\"inputWeight\").style.borderColor = \"\";\n          }\n\n          this.setState({\n            weight: event.target.value\n          });\n          break;\n\n        default:\n          break;\n      } //this.setState({formErrors, [name]: value});\n\n    };\n\n    this.closeAlertS = () => {\n      this.setState({\n        alertS: false\n      });\n    };\n\n    this.closeAlertF = () => {\n      this.setState({\n        alertF: false\n      });\n    };\n\n    this.state = {\n      userid: this.props.auth.user.id,\n      wasteType: '',\n      pickType: '',\n      weight: '',\n      time: '',\n      alertS: false,\n      alertF: false,\n      stores: [{\n        latitude: 42.3367,\n        longitude: -71.0875\n      }, {\n        latitude: 42.3375534,\n        longitude: -71.0923795\n      }, {\n        latitude: 442.3375534,\n        longitude: -71.0923795\n      }, {\n        latitude: 42.3441765,\n        longitude: -71.0907051\n      }, {\n        latitude: 42.3425868,\n        longitude: -71.1351013\n      }, {\n        latitude: 42.3312538,\n        longitude: -71.1234369\n      }, {\n        latitude: 42.3436572,\n        longitude: -71.0567736\n      }],\n      formErrors: {\n        wType: '',\n        weigh: ''\n      }\n    };\n    this.handleChangeWaste = this.handleChangeWaste.bind(this);\n    this.handleChangeType = this.handleChangeType.bind(this);\n    this.handleChangeWeight = this.handleChangeWeight.bind(this);\n    this.handleTimeChange = this.handleTimeChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  handleTimeChange(event) {\n    this.setState({\n      time: event.target.value\n    });\n    document.getElementById(\"time\").innerHTML = \"Pickup/Drop time set to \" + event.target.value;\n  }\n\n  handleChangeWaste(event) {\n    this.setState({\n      wasteType: event.target.value\n    });\n  }\n\n  handleChangeType(event) {\n    this.setState({\n      pickType: event.target.value\n    });\n    document.getElementById(\"time\").innerHTML = \"\";\n  }\n\n  handleChangeWeight(event) {\n    this.setState({\n      weight: event.target.value\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      class: \"bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, this.state.alertS ? React.createElement(Alert, {\n      variant: \"success\",\n      onClose: () => this.closeAlertS(),\n      dismissible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Request submitted successfully.\") : '', this.state.alertF ? React.createElement(Alert, {\n      variant: \"danger\",\n      onClose: () => this.closeAlertF(),\n      dismissible: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Please all fields correctly\") : '', React.createElement(\"div\", {\n      class: \"container\",\n      id: \"backgroundImg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      class: \"plastic\",\n      name: \"wasteType\",\n      value: \"Plastic\",\n      onClick: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      class: \"metal\",\n      name: \"wasteType\",\n      value: \"Metal\",\n      onClick: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      class: \"paper\",\n      name: \"wasteType\",\n      value: \"Paper\",\n      onClick: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"form-group gForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      class: \"col-sm-2 col-form-label gLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Waste Type\"), React.createElement(\"div\", {\n      class: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      id: \"inputWaste\",\n      value: this.state.wasteType,\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      id: \"errorMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, this.state.formErrors.wType)), React.createElement(\"label\", {\n      class: \"col-sm-3 col-form-label weightClass gLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Approx. weight (kg)\"), React.createElement(\"div\", {\n      class: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"number\",\n      name: \"weight\",\n      class: \"form-control\",\n      id: \"inputWeight\",\n      onChange: this.handleChange,\n      min: \"1\",\n      max: \"20\",\n      value: this.state.weight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      id: \"errorMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, this.state.formErrors.weigh)), React.createElement(\"div\", {\n      class: \"rGroup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-check form-check-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      class: \"form-check-input\",\n      type: \"radio\",\n      name: \"inlineRadioOptions\",\n      id: \"inlineRadio1\",\n      value: \"pickup\",\n      onClick: this.handleChangeType,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      class: \"form-check-label gLabel\",\n      for: \"inlineRadio1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Pick-Up\")), React.createElement(\"div\", {\n      class: \"form-check form-check-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      class: \"form-check-input\",\n      type: \"radio\",\n      name: \"inlineRadioOptions\",\n      id: \"inlineRadio2\",\n      value: \"dropoff\",\n      onClick: this.handleChangeType,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      class: \"form-check-label gLabel\",\n      for: \"inlineRadio2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Drop-Off\"))), this.buttonSet(this.state.pickType), React.createElement(\"div\", {\n      id: \"time\",\n      class: \"rGroup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      id: \"btnSub\",\n      type: \"button\",\n      class: \"btn btn-success\",\n      \"data-toggle\": \"alert\",\n      onClick: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      class: \"dropStore\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Our Drop Off store location\"), React.createElement(Map, {\n      google: this.props.google,\n      zoom: 14,\n      style: mapStyles,\n      initialCenter: {\n        lat: 42.3367,\n        lng: -71.0875\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, this.state.stores.map((store, index) => React.createElement(Marker, {\n      key: index,\n      id: index,\n      position: {\n        lat: store.latitude,\n        lng: store.longitude\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    })))));\n  }\n\n}\n\n;\nGarbage.propTypes = {\n  submitGarbageData: PropTypes.func.isRequired,\n  sendMail: PropTypes.func.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps, {\n  submitGarbageData,\n  sendMail,\n  logoutUser\n})(GoogleApiWrapper({\n  apiKey: \"AIzaSyDiqjm-md1hFlBudX6E31MQiCWZNsqPgAA\"\n})(Garbage));","map":{"version":3,"sources":["/Users/apple/Documents/WebDesign/Greener/final-project/greener-mern/client/src/components/Services/Garbage.js"],"names":["React","PropTypes","logoutUser","connect","Alert","submitGarbageData","sendMail","Map","GoogleApiWrapper","Marker","mapStyles","width","height","marginLeft","Garbage","Component","constructor","props","buttonSet","type","handleTimeChange","onSubmit","e","preventDefault","state","wasteType","weight","time","pickType","gData","userid","auth","user","id","mData","usermail","email","setState","alertS","console","log","alertF","handleChange","event","target","name","value","formErrors","wType","length","document","getElementById","style","borderColor","weigh","closeAlertS","closeAlertF","stores","latitude","longitude","handleChangeWaste","bind","handleChangeType","handleChangeWeight","innerHTML","render","google","lat","lng","map","store","index","propTypes","func","isRequired","object","mapStateToProps","apiKey"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Services.css';\nimport PropTypes from \"prop-types\";\nimport { logoutUser } from \"../../actions/authActions\";\nimport { connect } from \"react-redux\";\nimport {Alert} from \"react-bootstrap\";\nimport { submitGarbageData, sendMail } from \"../../actions/garbageActions\";\nimport { Map, GoogleApiWrapper, Marker } from 'google-maps-react';\nconst mapStyles = {\n    width: '80%',\n    height: '80%',\n    marginLeft: '-15px'\n  };\nclass Garbage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        userid: this.props.auth.user.id,wasteType: '',\n        pickType: '',\n        weight: '',\n        time: '',\n        alertS: false,\n        alertF: false,\n        stores: [{ latitude: 42.3367, longitude:  -71.0875},\n            {latitude: 42.3375534, longitude: -71.0923795},\n            {latitude: 442.3375534, longitude: -71.0923795},\n            {latitude: 42.3441765, longitude: -71.0907051},\n            {latitude: 42.3425868, longitude: -71.1351013},\n            {latitude: 42.3312538, longitude: -71.1234369},\n            {latitude: 42.3436572, longitude: -71.0567736}\n        ],\n        formErrors: {\n            wType: '',\n            weigh: ''\n        }\n    };\n    \n        this.handleChangeWaste = this.handleChangeWaste.bind(this);\n        this.handleChangeType = this.handleChangeType.bind(this);\n        this.handleChangeWeight = this.handleChangeWeight.bind(this);\n        this.handleTimeChange = this.handleTimeChange.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n      }\n      buttonSet = (type) => {\n        if(type === \"pickup\") {\n            return (\n                <div class=\"rGroup\">\n                <button type=\"button\" class=\"btn btn-lg btn-danger button-spacing\" value=\"11AM\" onClick={this.handleTimeChange}>11AM</button>\n                <button type=\"button\" class=\"btn btn-lg btn-danger button-spacing\" value=\"3PM\" onClick={this.handleTimeChange}>3PM</button>\n                </div>\n            )\n        } else if(type === \"dropoff\") {\n            return (\n            <div class=\"rGroup\">\n                <button type=\"button\" class=\"btn btn-lg btn-danger button-spacing\" value=\"10AM\" onClick={this.handleTimeChange}>10AM</button>\n                <button type=\"button\" class=\"btn btn-lg btn-danger button-spacing\" value=\"3PM\" onClick={this.handleTimeChange}>3PM</button>\n                <button type=\"button\" class=\"btn btn-lg btn-danger button-spacing\" value=\"7PM\" onClick={this.handleTimeChange}>7PM</button>\n                </div>\n            )\n        }\n    }\n    onSubmit = (e) => {\n        e.preventDefault();\n        if(this.state.wasteType!==\"\" && this.state.weight !==\"\" && this.state.weight >0 && this.state.time !==\"\" && this.state.pickType !==\"\") {\n          const gData = {\n            userid: this.props.auth.user.id,\n            wasteType: this.state.wasteType,\n            weight: this.state.weight\n          };\n          const mData = {\n            usermail: this.props.auth.user.email,\n            wasteType: this.state.wasteType,\n            weight: this.state.weight,\n            pickType: this.state.pickType,\n            time: this.state.time\n          };\n          this.props.sendMail(mData);\n          this.props.submitGarbageData(gData);\n          this.setState({wasteType: '', weight: '', alertS: true});\n        } else {\n            console.log(this.props.auth);\n            this.setState({alertF: true});\n        }\n      }\n    handleChange = (event) => {\n        const {name, value} = event.target;\n        let formErrors = this.state.formErrors;\n    \n        switch(name) {\n          case \"wasteType\":\n                formErrors.wType =  value.length > 0 ? \"\" : \"Waste type cannot be empty\";\n                console.log(value);\n                if(value.length === 0){\n                  document.getElementById(\"inputWaste\").style.borderColor = \"red\";\n                }else {\n                  document.getElementById(\"inputWaste\").style.borderColor = \"\";\n                }\n            this.setState({wasteType: event.target.value})\n            break;\n          case \"weight\":\n            formErrors.weigh = value.length > 0 && value>0 ? \"\" : \"Weight cannot be negative or empty\";\n            if(value.length === 0 || value<=0){\n              document.getElementById(\"inputWeight\").style.borderColor = \"red\";\n            }else {\n              document.getElementById(\"inputWeight\").style.borderColor = \"\";\n            }\n            this.setState({weight: event.target.value})\n            break;\n          default:\n            break;\n        }\n        //this.setState({formErrors, [name]: value});\n      };\n    handleTimeChange(event) {\n    this.setState({time: event.target.value});\n    document.getElementById(\"time\").innerHTML = \"Pickup/Drop time set to \" + event.target.value;\n      }\n      handleChangeWaste(event) {\n        this.setState({wasteType: event.target.value});\n      }\n      handleChangeType(event) {\n        this.setState({pickType: event.target.value});\n        document.getElementById(\"time\").innerHTML = \"\";\n      }\n      handleChangeWeight(event) {\n        this.setState({weight: event.target.value});\n      }\n      closeAlertS = () => {\n        this.setState({ alertS: false });\n      }\n      closeAlertF = () => {\n        this.setState({ alertF: false });\n      }\n    render() {\n        return (\n            <div class=\"bg\">\n                {(this.state.alertS ? \n                (<Alert variant=\"success\" onClose={() => this.closeAlertS()} dismissible>Request submitted successfully.</Alert>) \n                : '')}\n                {(this.state.alertF ? \n                (<Alert variant=\"danger\" onClose={() => this.closeAlertF()} dismissible>Please all fields correctly</Alert>) \n                : '')}\n            <div class=\"container\" id=\"backgroundImg\">\n<input class=\"plastic\" name=\"wasteType\" value=\"Plastic\" onClick={this.handleChange}></input>\n  <input class=\"metal\" name=\"wasteType\" value=\"Metal\" onClick={this.handleChange}></input>\n  <input class=\"paper\" name=\"wasteType\" value=\"Paper\" onClick={this.handleChange}></input>\n\n  <div class=\"form-group gForm\">\n    <label class=\"col-sm-2 col-form-label gLabel\">Waste Type</label>\n    <div class=\"col-sm-10\">\n      <input type=\"text\" class=\"form-control\" id=\"inputWaste\" value={this.state.wasteType} disabled/>\n      <span id=\"errorMsg\">{this.state.formErrors.wType}</span>\n        </div>\n        <label class=\"col-sm-3 col-form-label weightClass gLabel\">Approx. weight (kg)</label>\n    <div class=\"col-sm-10\">\n      <input type=\"number\" name=\"weight\"class=\"form-control\" id=\"inputWeight\" onChange={this.handleChange} min=\"1\" max=\"20\" value={this.state.weight}/>\n      <span id=\"errorMsg\">{this.state.formErrors.weigh}</span>\n        </div>\n        <div class=\"rGroup\">\n        <div class=\"form-check form-check-inline\">\n  <input class=\"form-check-input\" type=\"radio\" name=\"inlineRadioOptions\" id=\"inlineRadio1\" value=\"pickup\" onClick={this.handleChangeType}/>\n  <label class=\"form-check-label gLabel\" for=\"inlineRadio1\">Pick-Up</label>\n</div>\n<div class=\"form-check form-check-inline\">\n  <input class=\"form-check-input\" type=\"radio\" name=\"inlineRadioOptions\" id=\"inlineRadio2\" value=\"dropoff\" onClick={this.handleChangeType}/>\n  <label class=\"form-check-label gLabel\" for=\"inlineRadio2\">Drop-Off</label>\n</div>\n</div>\n{this.buttonSet(this.state.pickType)}\n<div id=\"time\" class=\"rGroup\"></div>\n        </div>\n        <button id=\"btnSub\" type=\"button\" class=\"btn btn-success\" data-toggle=\"alert\" onClick={this.onSubmit}>Submit</button>\n        <hr></hr>\n        <h3 class=\"dropStore\">Our Drop Off store location</h3>\n        <Map\n          google={this.props.google}\n          zoom={14}\n          style={mapStyles}\n          initialCenter={{ lat: 42.3367, lng:  -71.0875}}\n        >\n            {\n                     this.state.stores.map((store, index) => (\n                        <Marker key={index} id={index} position={{\n                            lat: store.latitude,\n                            lng: store.longitude}} />\n                     ))\n                    \n                    }\n        \n            {/* <Marker position={{ lat: 42.3367, lng:  -71.0875}} /> */}\n        </Map>\n        </div>\n        </div>\n        );\n    }\n};\n\nGarbage.propTypes = {\n    submitGarbageData: PropTypes.func.isRequired,\n    sendMail: PropTypes.func.isRequired,\n    logoutUser: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired\n  };\n  const mapStateToProps = state => ({\n    auth: state.auth\n  });\n  export default connect(\n    mapStateToProps,\n    { submitGarbageData, sendMail, logoutUser }\n  )(\n    GoogleApiWrapper({\n        apiKey: (\"AIzaSyDiqjm-md1hFlBudX6E31MQiCWZNsqPgAA\")\n    })(Garbage)\n)"]},"metadata":{},"sourceType":"module"}