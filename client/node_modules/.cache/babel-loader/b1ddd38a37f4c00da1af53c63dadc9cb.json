{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Documents/WebDesign/Greener/final-project/greener-mern/client/src/components/Header/Header.js\";\nimport React from 'react';\nimport './Header.css';\nimport { Navbar, Nav, NavDropdown, Modal } from 'react-bootstrap';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport { logoutUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport { Link } from \"react-router-dom\"; //import classnames from \"classnames\";\n\nclass Header extends React.Component {\n  constructor() {\n    super();\n\n    this.handleShow = () => {\n      this.setState({\n        showModal: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.onLogoutClick = e => {\n      e.preventDefault();\n      this.props.logoutUser();\n    };\n\n    this.onLoginChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onLogin = async e => {\n      e.preventDefault();\n      const userData = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      this.props.loginUser(userData);\n\n      if (this.props.auth.isAuthenticated) {\n        this.handleClose();\n      } else {}\n    };\n\n    this.state = {\n      password: \"\",\n      email: \"\",\n      errors: {},\n      showModal: false,\n      show: false\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(nextProps);\n\n    if (nextProps.auth.isAuthenticated) {\n      this.handleClose(); //this.props.history.push(\"/\"); // push user to dashboard when they login\n    }\n\n    if (nextProps.errors) {\n      console.log(\"here\");\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  render() {\n    const errors = this.state.errors;\n    const user = this.props.auth.user;\n    return React.createElement(\"div\", {\n      className: \"a\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      className: \"nav\",\n      expand: \"md\",\n      sticky: \"top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      className: \"navbarBrand\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Greener\"), React.createElement(Navbar.Toggle, {\n      \"aria-controls\": \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(Navbar.Collapse, {\n      id: \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      className: \"mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      className: \"navLink\",\n      href: \"/products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Products\"), React.createElement(NavDropdown, {\n      title: React.createElement(\"span\", {\n        className: \"navLink\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Services\"),\n      id: \"basic-nav-dropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(NavDropdown.Item, {\n      href: \"/services\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Bill Analyis\"), React.createElement(NavDropdown.Item, {\n      href: \"/collection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Garbage Collection\")), React.createElement(Nav.Link, {\n      className: \"navLink\",\n      href: \"/info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Awareness\"), React.createElement(Nav.Link, {\n      className: \"navLink\",\n      href: \"/donate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Donate\"), React.createElement(Nav.Link, {\n      className: \"navLink\",\n      href: \"/jobs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Jobs\")), this.props.auth.isAuthenticated ? React.createElement(\"p\", {\n      className: \"navLink\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \" Hello, \", user.name.split(\" \")[0], \"! \", React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-dark\",\n      onClick: this.onLogoutClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(Link, {\n      to: \"/history\",\n      className: \"link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Your Orders\"))) : React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-dark\",\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user userIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), \" Sign In\"))), React.createElement(Modal, {\n      show: this.state.showModal,\n      onHide: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Sign In\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-addon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      onChange: this.onLoginChange,\n      value: this.state.email,\n      error: errors.email,\n      id: \"email\",\n      name: \"email\",\n      placeholder: \"Email\",\n      required: \"required\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-addon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-lock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      onChange: this.onLoginChange,\n      value: this.state.password,\n      error: errors.password,\n      id: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      required: \"required\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success btn-block login-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Sign in\")), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"pull-left checkbox-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), \" Remember me\"), React.createElement(\"a\", {\n      href: \"#\",\n      className: \"pull-right text-success\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#forgotPasswordModal\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Forgot Password?\"))), React.createElement(\"div\", {\n      className: \"hint-text small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Don't have an account? \", React.createElement(\"a\", {\n      href: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Register Now!\"))))));\n  }\n\n}\n\nHeader.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  loginUser,\n  logoutUser\n})(withRouter(Header));","map":{"version":3,"sources":["/Users/apple/Documents/WebDesign/Greener/final-project/greener-mern/client/src/components/Header/Header.js"],"names":["React","Navbar","Nav","NavDropdown","Modal","NavLink","withRouter","PropTypes","connect","loginUser","logoutUser","classnames","Link","Header","Component","constructor","handleShow","setState","showModal","handleClose","onLogoutClick","e","preventDefault","props","onLoginChange","target","name","value","onLogin","userData","email","state","password","auth","isAuthenticated","errors","show","componentWillReceiveProps","nextProps","console","log","render","user","split","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Header.css';\nimport { Navbar, Nav, NavDropdown, Modal } from 'react-bootstrap'\nimport { NavLink, withRouter } from 'react-router-dom'\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport { logoutUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport { Link } from \"react-router-dom\";\n//import classnames from \"classnames\";\n\nclass Header extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            password: \"\",\n            email: \"\",\n            errors: {},\n            showModal: false,\n            show: false\n        }\n    }\n\n\n    handleShow = () => {\n        this.setState({ showModal: true });\n    }\n\n    handleClose = () => {\n        this.setState({ showModal: false });\n    }\n\n\n    onLogoutClick = e => {\n        e.preventDefault();\n        this.props.logoutUser();\n    };\n\n\n    componentWillReceiveProps(nextProps) {\n        console.log(nextProps)\n        if (nextProps.auth.isAuthenticated) {\n            this.handleClose();\n            //this.props.history.push(\"/\"); // push user to dashboard when they login\n        }\n\n        if (nextProps.errors) {\n            console.log(\"here\")\n            this.setState({\n                errors: nextProps.errors\n            });\n        }\n    }\n\n    onLoginChange = e => {\n        this.setState({ [e.target.name]: e.target.value });\n\n    };\n\n    onLogin = async (e) => {\n        e.preventDefault();\n        const userData = {\n            email: this.state.email,\n            password: this.state.password\n        };\n        this.props.loginUser(userData);\n        if (this.props.auth.isAuthenticated) {\n\n            this.handleClose();\n        } else {\n\n        }\n    };\n    render() {\n        const { errors } = this.state;\n        const { user } = this.props.auth;\n\n        return (\n            <div className=\"a\">\n                <Navbar className=\"nav\" expand=\"md\" sticky=\"top\">\n                    <Navbar.Brand className=\"navbarBrand\" href=\"/\">Greener</Navbar.Brand>\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\n                        <Nav className=\"mr-auto\">\n                            <Nav.Link className=\"navLink\" href=\"/products\">Products</Nav.Link>\n                            <NavDropdown title={\n                                <span className=\"navLink\">Services</span>} id=\"basic-nav-dropdown\">\n                                <NavDropdown.Item href=\"/services\">Bill Analyis</NavDropdown.Item>\n                                <NavDropdown.Item href=\"/collection\">Garbage Collection</NavDropdown.Item>\n                            </NavDropdown>\n                            <Nav.Link className=\"navLink\" href=\"/info\">Awareness</Nav.Link>\n                            <Nav.Link className=\"navLink\" href=\"/donate\">Donate</Nav.Link>\n                            <Nav.Link className=\"navLink\" href=\"/jobs\">Jobs</Nav.Link>\n                        </Nav>\n\n                        {(this.props.auth.isAuthenticated) ?\n                            (<p className=\"navLink\"> Hello, {user.name.split(\" \")[0]}! <button type=\"button\" className=\"btn btn-dark\" onClick={this.onLogoutClick}>\n                                Logout\n                        </button><Link to=\"/history\" className=\"link\"><button>Your Orders</button></Link></p>)\n                            : (<button type=\"button\" className=\"btn btn-dark\" onClick={this.handleShow}>\n                                <i className=\"fa fa-user userIcon\"></i> Sign In\n                        </button>)}\n                    </Navbar.Collapse>\n\n                </Navbar>\n                <Modal show={this.state.showModal} onHide={this.handleClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Sign In</Modal.Title>\n                    </Modal.Header>\n\n                    <Modal.Body>\n                        <div className=\"login-form\">\n                            <form onSubmit={this.onLogin}>\n\n                                <div className=\"text-center\"><i><br /></i></div>\n                                <div className=\"form-group\">\n                                    <div className=\"input-group\">\n                                        <span className=\"input-group-addon\"><i className=\"fa fa-user\"></i></span>\n                                        <input type=\"email\" className=\"form-control\"\n                                            onChange={this.onLoginChange}\n                                            value={this.state.email}\n                                            error={errors.email}\n                                            id=\"email\"\n                                            name=\"email\" \n                                            placeholder=\"Email\"\n                                            required=\"required\" />\n                                    </div>\n                                </div>\n                                <div className=\"form-group\">\n                                    <div className=\"input-group\">\n                                        <span className=\"input-group-addon\"><i className=\"fa fa-lock\"></i></span>\n                                        <input type=\"password\" className=\"form-control\"\n                                            onChange={this.onLoginChange}\n                                            value={this.state.password}\n                                            error={errors.password}\n                                            id=\"password\"\n                                            name=\"password\" \n                                            placeholder=\"Password\" \n                                            required=\"required\" />\n                                    </div>\n                                </div>\n                                <div className=\"form-group\">\n                                    <button type=\"submit\" className=\"btn btn-success btn-block login-btn\">Sign in</button>\n                                </div>\n                                <div className=\"clearfix\">\n                                    <label className=\"pull-left checkbox-inline\"><input type=\"checkbox\" /> Remember me</label>\n                                    <a href=\"#\" className=\"pull-right text-success\" data-toggle=\"modal\" data-target=\"#forgotPasswordModal\" data-dismiss=\"modal\">Forgot Password?</a>\n                                </div>\n                            </form>\n                            <div className=\"hint-text small\">Don't have an account? <a href=\"/register\">Register Now!</a></div>\n                        </div>\n                    </Modal.Body>\n                </Modal>\n\n            </div>\n        );\n    }\n}\n\nHeader.propTypes = {\n    loginUser: PropTypes.func.isRequired,\n    logoutUser: PropTypes.func.isRequired,\n    auth: PropTypes.object.isRequired,\n    errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n    auth: state.auth,\n    errors: state.errors\n});\nexport default connect(\n    mapStateToProps,\n    { loginUser, logoutUser }\n)(withRouter(Header));\n\n\n"]},"metadata":{},"sourceType":"module"}