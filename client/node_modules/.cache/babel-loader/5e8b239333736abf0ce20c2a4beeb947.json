{"ast":null,"code":"'use strict';\n\nvar PropTypes = require('prop-types');\n\nvar React = require('react');\n\nvar createReactClass = require('create-react-class');\n\nvar d3 = require('d3');\n\nvar DataSeries = require('./DataSeries');\n\nvar _require = require('../common');\n\nvar Chart = _require.Chart;\nvar XAxis = _require.XAxis;\nvar YAxis = _require.YAxis;\n\nvar _require2 = require('../mixins');\n\nvar CartesianChartPropsMixin = _require2.CartesianChartPropsMixin;\nvar DefaultAccessorsMixin = _require2.DefaultAccessorsMixin;\nvar ViewBoxMixin = _require2.ViewBoxMixin;\nmodule.exports = createReactClass({\n  displayName: 'AreaChart',\n  propTypes: {\n    margins: PropTypes.object,\n    interpolate: PropTypes.bool,\n    interpolationType: PropTypes.string,\n    hoverAnimation: PropTypes.bool,\n    data: PropTypes.array.isRequired\n  },\n  mixins: [CartesianChartPropsMixin, DefaultAccessorsMixin, ViewBoxMixin],\n  getDefaultProps: function getDefaultProps() {\n    return {\n      margins: {\n        top: 10,\n        right: 20,\n        bottom: 40,\n        left: 45\n      },\n      yAxisTickCount: 4,\n      interpolate: false,\n      interpolationType: null,\n      className: 'rd3-areachart',\n      hoverAnimation: true,\n      data: []\n    };\n  },\n  render: function render() {\n    var props = this.props;\n    var data = props.data;\n    var interpolationType = props.interpolationType || (props.interpolate ? 'cardinal' : 'linear');\n\n    var _getDimensions = this.getDimensions();\n\n    var innerWidth = _getDimensions.innerWidth;\n    var innerHeight = _getDimensions.innerHeight;\n    var trans = _getDimensions.trans;\n    var svgMargins = _getDimensions.svgMargins;\n    var yOrient = this.getYOrient();\n\n    if (!Array.isArray(data)) {\n      data = [data];\n    }\n\n    if (this.props.data && this.props.data.length < 1) {\n      return null;\n    }\n\n    var yScale = d3.scale.linear().range([innerHeight, 0]);\n    var xValues = [];\n    var yValues = [];\n    var seriesNames = [];\n    var yMaxValues = [];\n    var domain = props.domain || {};\n    var xDomain = domain.x || [];\n    var yDomain = domain.y || [];\n    data.forEach(function (series) {\n      var upper = 0;\n      seriesNames.push(series.name);\n      series.values.forEach(function (val) {\n        upper = Math.max(upper, props.yAccessor(val));\n        xValues.push(props.xAccessor(val));\n        yValues.push(props.yAccessor(val));\n      });\n      yMaxValues.push(upper);\n    });\n    var xScale = void 0;\n\n    if (xValues.length > 0 && Object.prototype.toString.call(xValues[0]) === '[object Date]' && props.xAxisTickInterval) {\n      xScale = d3.time.scale().range([0, innerWidth]);\n    } else {\n      xScale = d3.scale.linear().range([0, innerWidth]);\n    }\n\n    var xdomain = d3.extent(xValues);\n    if (xDomain[0] !== undefined && xDomain[0] !== null) xdomain[0] = xDomain[0];\n    if (xDomain[1] !== undefined && xDomain[1] !== null) xdomain[1] = xDomain[1];\n    xScale.domain(xdomain);\n    var ydomain = [0, d3.sum(yMaxValues)];\n    if (yDomain[0] !== undefined && yDomain[0] !== null) ydomain[0] = yDomain[0];\n    if (yDomain[1] !== undefined && yDomain[1] !== null) ydomain[1] = yDomain[1];\n    yScale.domain(ydomain);\n    props.colors.domain(seriesNames);\n    var stack = d3.layout.stack().x(props.xAccessor).y(props.yAccessor).values(function (d) {\n      return d.values;\n    });\n    var layers = stack(data);\n    var dataSeries = layers.map(function (d, idx) {\n      return React.createElement(DataSeries, {\n        key: idx,\n        seriesName: d.name,\n        fill: props.colors(props.colorAccessor(d, idx)),\n        index: idx,\n        xScale: xScale,\n        yScale: yScale,\n        data: d.values,\n        xAccessor: props.xAccessor,\n        yAccessor: props.yAccessor,\n        interpolationType: interpolationType,\n        hoverAnimation: props.hoverAnimation\n      });\n    });\n    return React.createElement(Chart, {\n      viewBox: this.getViewBox(),\n      legend: props.legend,\n      data: data,\n      margins: props.margins,\n      colors: props.colors,\n      colorAccessor: props.colorAccessor,\n      width: props.width,\n      height: props.height,\n      title: props.title\n    }, React.createElement('g', {\n      transform: trans,\n      className: props.className\n    }, React.createElement(XAxis, {\n      xAxisClassName: 'rd3-areachart-xaxis',\n      xScale: xScale,\n      xAxisTickValues: props.xAxisTickValues,\n      xAxisTickInterval: props.xAxisTickInterval,\n      xAxisTickCount: props.xAxisTickCount,\n      xAxisLabel: props.xAxisLabel,\n      xAxisLabelOffset: props.xAxisLabelOffset,\n      tickFormatting: props.xAxisFormatter,\n      tickStroke: props.xAxisTickStroke,\n      tickTextStroke: props.xAxisTickTextStroke,\n      xOrient: props.xOrient,\n      yOrient: yOrient,\n      margins: svgMargins,\n      width: innerWidth,\n      height: innerHeight,\n      horizontalChart: props.horizontal,\n      gridVertical: props.gridVertical,\n      gridVerticalStroke: props.gridVerticalStroke,\n      gridVerticalStrokeWidth: props.gridVerticalStrokeWidth,\n      gridVerticalStrokeDash: props.gridVerticalStrokeDash\n    }), React.createElement(YAxis, {\n      yAxisClassName: 'rd3-areachart-yaxis',\n      yScale: yScale,\n      yAxisTickValues: props.yAxisTickValues,\n      yAxisTickInterval: props.yAxisTickInterval,\n      yAxisTickCount: props.yAxisTickCount,\n      yAxisLabel: props.yAxisLabel,\n      yAxisLabelOffset: props.yAxisLabelOffset,\n      tickFormatting: props.yAxisFormatter,\n      tickStroke: props.yAxisTickStroke,\n      tickTextStroke: props.yAxisTickTextStroke,\n      xOrient: props.xOrient,\n      yOrient: yOrient,\n      margins: svgMargins,\n      width: innerWidth,\n      height: props.height,\n      horizontalChart: props.horizontal,\n      gridHorizontal: props.gridHorizontal,\n      gridHorizontalStroke: props.gridHorizontalStroke,\n      gridHorizontalStrokeWidth: props.gridHorizontalStrokeWidth,\n      gridHorizontalStrokeDash: props.gridHorizontalStrokeDash\n    }), dataSeries));\n  }\n});","map":{"version":3,"sources":["/Users/apple/Documents/WebDesign/Greener/final-project/greener-mern/node_modules/rd3/build/cjs/areachart/AreaChart.js"],"names":["PropTypes","require","React","createReactClass","d3","DataSeries","_require","Chart","XAxis","YAxis","_require2","CartesianChartPropsMixin","DefaultAccessorsMixin","ViewBoxMixin","module","exports","displayName","propTypes","margins","object","interpolate","bool","interpolationType","string","hoverAnimation","data","array","isRequired","mixins","getDefaultProps","top","right","bottom","left","yAxisTickCount","className","render","props","_getDimensions","getDimensions","innerWidth","innerHeight","trans","svgMargins","yOrient","getYOrient","Array","isArray","length","yScale","scale","linear","range","xValues","yValues","seriesNames","yMaxValues","domain","xDomain","x","yDomain","y","forEach","series","upper","push","name","values","val","Math","max","yAccessor","xAccessor","xScale","Object","prototype","toString","call","xAxisTickInterval","time","xdomain","extent","undefined","ydomain","sum","colors","stack","layout","d","layers","dataSeries","map","idx","createElement","key","seriesName","fill","colorAccessor","index","viewBox","getViewBox","legend","width","height","title","transform","xAxisClassName","xAxisTickValues","xAxisTickCount","xAxisLabel","xAxisLabelOffset","tickFormatting","xAxisFormatter","tickStroke","xAxisTickStroke","tickTextStroke","xAxisTickTextStroke","xOrient","horizontalChart","horizontal","gridVertical","gridVerticalStroke","gridVerticalStrokeWidth","gridVerticalStrokeDash","yAxisClassName","yAxisTickValues","yAxisTickInterval","yAxisLabel","yAxisLabelOffset","yAxisFormatter","yAxisTickStroke","yAxisTickTextStroke","gridHorizontal","gridHorizontalStroke","gridHorizontalStrokeWidth","gridHorizontalStrokeDash"],"mappings":"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","sourcesContent":["'use strict';\n\nvar PropTypes = require('prop-types');\nvar React = require('react');\nvar createReactClass = require('create-react-class');\n\nvar d3 = require('d3');\nvar DataSeries = require('./DataSeries');\n\nvar _require = require('../common');\n\nvar Chart = _require.Chart;\nvar XAxis = _require.XAxis;\nvar YAxis = _require.YAxis;\n\nvar _require2 = require('../mixins');\n\nvar CartesianChartPropsMixin = _require2.CartesianChartPropsMixin;\nvar DefaultAccessorsMixin = _require2.DefaultAccessorsMixin;\nvar ViewBoxMixin = _require2.ViewBoxMixin;\n\n\nmodule.exports = createReactClass({\n\n  displayName: 'AreaChart',\n\n  propTypes: {\n    margins: PropTypes.object,\n    interpolate: PropTypes.bool,\n    interpolationType: PropTypes.string,\n    hoverAnimation: PropTypes.bool,\n    data: PropTypes.array.isRequired\n  },\n\n  mixins: [CartesianChartPropsMixin, DefaultAccessorsMixin, ViewBoxMixin],\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      margins: { top: 10, right: 20, bottom: 40, left: 45 },\n      yAxisTickCount: 4,\n      interpolate: false,\n      interpolationType: null,\n      className: 'rd3-areachart',\n      hoverAnimation: true,\n      data: []\n    };\n  },\n  render: function render() {\n    var props = this.props;\n    var data = props.data;\n    var interpolationType = props.interpolationType || (props.interpolate ? 'cardinal' : 'linear');\n\n    var _getDimensions = this.getDimensions();\n\n    var innerWidth = _getDimensions.innerWidth;\n    var innerHeight = _getDimensions.innerHeight;\n    var trans = _getDimensions.trans;\n    var svgMargins = _getDimensions.svgMargins;\n\n    var yOrient = this.getYOrient();\n\n    if (!Array.isArray(data)) {\n      data = [data];\n    }\n    if (this.props.data && this.props.data.length < 1) {\n      return null;\n    }\n\n    var yScale = d3.scale.linear().range([innerHeight, 0]);\n\n    var xValues = [];\n    var yValues = [];\n    var seriesNames = [];\n    var yMaxValues = [];\n    var domain = props.domain || {};\n    var xDomain = domain.x || [];\n    var yDomain = domain.y || [];\n    data.forEach(function (series) {\n      var upper = 0;\n      seriesNames.push(series.name);\n      series.values.forEach(function (val) {\n        upper = Math.max(upper, props.yAccessor(val));\n        xValues.push(props.xAccessor(val));\n        yValues.push(props.yAccessor(val));\n      });\n      yMaxValues.push(upper);\n    });\n\n    var xScale = void 0;\n    if (xValues.length > 0 && Object.prototype.toString.call(xValues[0]) === '[object Date]' && props.xAxisTickInterval) {\n      xScale = d3.time.scale().range([0, innerWidth]);\n    } else {\n      xScale = d3.scale.linear().range([0, innerWidth]);\n    }\n\n    var xdomain = d3.extent(xValues);\n    if (xDomain[0] !== undefined && xDomain[0] !== null) xdomain[0] = xDomain[0];\n    if (xDomain[1] !== undefined && xDomain[1] !== null) xdomain[1] = xDomain[1];\n    xScale.domain(xdomain);\n    var ydomain = [0, d3.sum(yMaxValues)];\n    if (yDomain[0] !== undefined && yDomain[0] !== null) ydomain[0] = yDomain[0];\n    if (yDomain[1] !== undefined && yDomain[1] !== null) ydomain[1] = yDomain[1];\n    yScale.domain(ydomain);\n\n    props.colors.domain(seriesNames);\n\n    var stack = d3.layout.stack().x(props.xAccessor).y(props.yAccessor).values(function (d) {\n      return d.values;\n    });\n\n    var layers = stack(data);\n\n    var dataSeries = layers.map(function (d, idx) {\n      return React.createElement(DataSeries, {\n        key: idx,\n        seriesName: d.name,\n        fill: props.colors(props.colorAccessor(d, idx)),\n        index: idx,\n        xScale: xScale,\n        yScale: yScale,\n        data: d.values,\n        xAccessor: props.xAccessor,\n        yAccessor: props.yAccessor,\n        interpolationType: interpolationType,\n        hoverAnimation: props.hoverAnimation\n      });\n    });\n\n    return React.createElement(\n      Chart,\n      {\n        viewBox: this.getViewBox(),\n        legend: props.legend,\n        data: data,\n        margins: props.margins,\n        colors: props.colors,\n        colorAccessor: props.colorAccessor,\n        width: props.width,\n        height: props.height,\n        title: props.title\n      },\n      React.createElement(\n        'g',\n        { transform: trans, className: props.className },\n        React.createElement(XAxis, {\n          xAxisClassName: 'rd3-areachart-xaxis',\n          xScale: xScale,\n          xAxisTickValues: props.xAxisTickValues,\n          xAxisTickInterval: props.xAxisTickInterval,\n          xAxisTickCount: props.xAxisTickCount,\n          xAxisLabel: props.xAxisLabel,\n          xAxisLabelOffset: props.xAxisLabelOffset,\n          tickFormatting: props.xAxisFormatter,\n          tickStroke: props.xAxisTickStroke,\n          tickTextStroke: props.xAxisTickTextStroke,\n          xOrient: props.xOrient,\n          yOrient: yOrient,\n          margins: svgMargins,\n          width: innerWidth,\n          height: innerHeight,\n          horizontalChart: props.horizontal,\n          gridVertical: props.gridVertical,\n          gridVerticalStroke: props.gridVerticalStroke,\n          gridVerticalStrokeWidth: props.gridVerticalStrokeWidth,\n          gridVerticalStrokeDash: props.gridVerticalStrokeDash\n        }),\n        React.createElement(YAxis, {\n          yAxisClassName: 'rd3-areachart-yaxis',\n          yScale: yScale,\n          yAxisTickValues: props.yAxisTickValues,\n          yAxisTickInterval: props.yAxisTickInterval,\n          yAxisTickCount: props.yAxisTickCount,\n          yAxisLabel: props.yAxisLabel,\n          yAxisLabelOffset: props.yAxisLabelOffset,\n          tickFormatting: props.yAxisFormatter,\n          tickStroke: props.yAxisTickStroke,\n          tickTextStroke: props.yAxisTickTextStroke,\n          xOrient: props.xOrient,\n          yOrient: yOrient,\n          margins: svgMargins,\n          width: innerWidth,\n          height: props.height,\n          horizontalChart: props.horizontal,\n          gridHorizontal: props.gridHorizontal,\n          gridHorizontalStroke: props.gridHorizontalStroke,\n          gridHorizontalStrokeWidth: props.gridHorizontalStrokeWidth,\n          gridHorizontalStrokeDash: props.gridHorizontalStrokeDash\n        }),\n        dataSeries\n      )\n    );\n  }\n});"]},"metadata":{},"sourceType":"script"}